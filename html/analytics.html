<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Task Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="../src/output.css" />
    <link rel="stylesheet" href="../src/style.css" />
    <link rel="stylesheet" href="../css/styles.css" />
</head>

<body class="h-full font-poppins bg-[var(--primary-bg)] transition-colors duration-200" data-theme="dark">
    <header class="navbar">
        <script src="../utils/navbar.js"></script>
    </header>


    <!-- Sidebar -->
    <aside id="sideNav"
        class="fixed top-5 bg-[var(--primary-bg)] left-0 h-full z-40 border-r-2 border-zinc-500/40 p-5 space-y-6 w-[270px] md:block -translate-x-full md:translate-x-0 transition-all duration-300 transition-width pb-8 max-h-screen  overflow-y-auto">
        <script src="../utils/sideNav.js"></script>
    </aside>
    <div id="overlay" class="fixed inset-0 bg-black/20 backdrop-blur-[2px] hidden z-30 md:hidden"></div>

    <!-- Main Content -->
    <main id="main-content" class="pt-24 px-4 transition-all duration-300 md:ml-[270px]">


        <!-- Overview Cards -->
        <!-- <div class="bg-[var(--secondary-bg)] border border-purple-500/20 p-3 sm:p-6 rounded-xl shadow-lg mb-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-[var(--text-color)]">
                    Task Stats Overview
                </h3>
            </div>
            <div data-widget-id="overview-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-orange-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Total Tasks</h3>
                        <i class="ri-task-line text-2xl text-orange-500"></i>
                    </div>
                    <p id="totalTasksCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">All time tasks</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-teal-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Completed Tasks</h3>
                        <i class="ri-shield-check-line text-2xl text-teal-500"></i>
                    </div>
                    <p id="completedTasksCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks completed</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-yellow-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Pending Tasks</h3>
                        <i class="ri-time-line text-2xl text-yellow-500"></i>
                    </div>
                    <p id="inPendingCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks pending</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-green-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Completion Rate</h3>
                        <i class="ri-percent-line text-2xl text-green-500"></i>
                    </div>
                    <p id="completionRate" class="text-3xl font-bold">0%</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks completed</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-cyan-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Upcoming Tasks</h3>
                        <i class="ri-calendar-line text-2xl text-cyan-500"></i>
                    </div>
                    <p id="upcomingTasksCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks due in next 7 days</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-purple-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Due Soon</h3>
                        <i class="ri-timer-line text-2xl text-purple-500"></i>
                    </div>
                    <p id="dueSoonCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks due in 24h</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-red-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Overdue</h3>
                        <i class="ri-error-warning-line text-2xl text-red-500"></i>
                    </div>
                    <p id="overdueCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">Tasks overdue</p>
                </div>

                <div
                    class="bg-[var(--card-bg)] hover:bg-[var(--stat-bg)] duration-200 p-6 rounded-xl border-t-5 border-pink-500 backdrop-blur-[20px]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Priority Tasks</h3>
                        <i class="ri-star-line text-2xl text-pink-500"></i>
                    </div>
                    <p id="priorityCount" class="text-3xl font-bold">0</p>
                    <p class="text-[var(--text-gray)] mt-2">High priority tasks</p>
                </div>
            </div>
        </div> -->


        <!-- recent tasks -->
        <!-- <div class="bg-[var(--card-bg)] border border-purple-500/20 p-3 sm:p-6 rounded-xl shadow-lg mb-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold text-[var(--text-color)]">
                    Tasks Overview
                </h3>
                <a href="../html/todo.html#progressSection"
                    class="px-3 py-2 rounded-full hover:text-purple-600 transition-colors">
                    Add Task
                </a>
            </div>
            <div class="filter-task w-full mb-6">
                <div class="flex w-full flex-wrap gap-3 items-center">
                    <div class="flex w-full max-w-[700px]  items-center gap-2">
                        <button id="scrollLeftBtn"
                            class="scroll-btn flex items-center justify-center shrink-0 border border-purple-500 text-xl px-2 py-2 w-[40px] h-[40px] sm:w-[48px] sm:h-[48px] hover:text-purple-500 hover:bg-purple-500/10 rounded-full transition-colors">
                            <i class="ri-arrow-left-s-line"></i>
                        </button>

                        <div
                            class="flex px-2 items-center flex-nowrap whitespace-nowrap  gap-2 overflow-x-auto scroll-smooth no-scrollbar">
                            <button data-filter="all"
                                class="filter-btn active px-4 py-2 rounded-lg bg-purple-500 hover:bg-purple-600 transition-colors hover:text-white">
                                <i class="ri-apps-line mr-1"></i> All
                            </button>
                            <button data-filter="pending"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-time-line mr-1"></i> Pending
                            </button>
                            <button data-filter="inprogress"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-progress-1-line mr-1"></i> In Progress
                            </button>
                            <button data-filter="completed"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-check-double-line mr-1"></i> Completed
                            </button>
                            <button data-filter="today"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-calendar-check-line mr-1"></i> Today
                            </button>
                            <button data-filter="upcoming"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-calendar-line mr-1"></i> Upcoming
                            </button>
                            <button data-filter="with-subtask"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                <i class="ri-node-tree mr-1"></i>With Subtask
                            </button>
                            <button data-filter="without-subtask"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white">
                                Without Subtask
                            </button>
                            <button data-filter="overdue"
                                class="filter-btn px-4 py-2 rounded-lg hover:bg-purple-500 bg-[var(--card-bg)] border border-purple-500/30 duration-300 hover:text-white text-red-500">
                                <i class="ri-error-warning-line mr-1"></i> Overdue
                            </button>
                        </div>
                        <button id="scrollRightBtn"
                            class="scroll-btn flex items-center justify-center shrink-0 border border-purple-500 text-xl px-2 py-2 w-[40px] h-[40px] sm:w-[48px] sm:h-[48px] hover:text-purple-500 hover:bg-purple-500/10 rounded-full transition-colors">
                            <i class="ri-arrow-right-s-line"></i>
                        </button>
                    </div>
                    <div class="relative ml-auto">
                        <button id="reset-filters"
                            class="px-4 py-2.5 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 hover:bg-purple-500/10 transition-colors">
                            <i class="ri-refresh-line mr-1"></i> Reset Filters
                        </button>
                    </div>
                </div>

                <div class="flex flex-wrap gap-2 sm:gap-3 mt-4">
                    <div class="relative">
                        <input type="text" id="task-search" placeholder="Search tasks..."
                            class="pl-8 pr-4 py-2 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors" />
                        <i class="ri-search-line absolute left-3 top-2.5 text-[var(--text-gray)]"></i>
                    </div>
                    <select id="priority-filter"
                        class="px-3 py-2 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors">
                        <option value="">All Priorities</option>
                        <option value="high">High Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="low">Low Priority</option>
                    </select>
                    <select id="category-filter"
                        class="px-4 py-2 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors">
                        <option value="">All Categories</option>
                        <option value="work">Work</option>
                        <option value="personal">Personal</option>
                        <option value="shopping">Shopping</option>
                        <option value="health">Health</option>
                        <option value="education">Education</option>
                        <option value="travel">Travel</option>
                        <option value="finance">Finance</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="other">Others</option>
                    </select>
                    <div class="ml-auto flex items-center gap-2">

                        <select id="sort-by"
                            class="px-4 py-2 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors">
                            <option value="" selected disabled>--Sort By--</option>
                            <option value="dueDate-asc">Due Date (Earliest)</option>
                            <option value="dueDate-desc">Due Date (Latest)</option>
                            <option value="priority-desc">Priority (Highest)</option>
                            <option value="priority-asc">Priority (Lowest)</option>
                            <option value="createdDate-desc">Recently Added</option>
                            <option value="createdDate-asc">Oldest Added</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="overflow-x-auto whitespace-nowrap">
                <table class="w-full divide-y divide-purple-500/20">
                    <thead>
                        <tr class="uppercase">
                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Title
                            </th>
                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Description
                            </th>

                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Due Date
                            </th>
                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Priority
                            </th>
                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Repition
                            </th>
                            <th class="text-left py-3 px-4 text-[var(--text-gray)] tracking-wider font-semibold">
                                Status
                            </th>
                        </tr>
                    </thead>
                    <tbody id="recentTasksTable" class="divide-y divide-purple-500/20"></tbody>

                </table>
            </div>
            <div id="pagination-container" class="flex justify-between items-center mt-6">
                <button id="prevBtn"
                    class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-md disabled:cursor-not-allowed disabled:opacity-50"
                    id="prevBtn">
                    <i class="ri-arrow-left-double-line mr-1 text-xl"></i> <span class="hidden sm:inline">Prev</span>
                </button>

                <span id="pageInfo" class="text-sm text-[var(--text-gray)] sm:text-base"></span>

                <button id="nextBtn"
                    class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-md disabled:cursor-not-allowed  disabled:opacity-50"
                    id="nextBtn">
                    <span class="hidden sm:inline">Next</span> <i class="ri-arrow-right-double-line ml-1 text-xl "></i>
                </button>
            </div>
        </div> -->


        <!-- display weekly and daily distribution in chart -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div data-widget-id="weekly-distribution"
                class="bg-[var(--card-bg)] duration-200 p-6 rounded-xl border border-purple-500/10 hover:border-purple-500 backdrop-blur-[20px] mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 mb-6">
                    <h3 class="text-xl font-semibold mb-6">Weekly Task Distribution</h3>

                </div>
                <div class="h-[300px]">
                    <canvas id="weeklyDistributionChart"></canvas>
                </div>
            </div>

            <div data-widget-id="daily-distribution"
                class="bg-[var(--card-bg)] duration-200 p-6 rounded-xl border border-purple-500/10 hover:border-purple-500 backdrop-blur-[20px] mb-8">

                <h3 class="text-xl font-semibold mb-6">Daily Task Distribution</h3>

                <div class="grid grid-cols-1 md:grid-cols-2 mb-3">

                    <div class="flex items-center gap-3">
                        <input type="date" id="dailyDistributionDate"
                            class="px-3 py-2 rounded-lg bg-[var(--card-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500 transition-colors">
                        <button id="updateDailyDistributionBtn"
                            class="px-3 py-2 rounded-lg bg-purple-500 hover:bg-purple-600 text-white transition-colors">
                            Update
                        </button>
                    </div>
                </div>
                <div class="h-[300px]">
                    <canvas id="dailyDistributionChart"></canvas>
                </div>
            </div>

        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Task Distribution by Category -->
            <div data-widget-id="category-chart"
                class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
                <h3 class="text-xl font-semibold mb-6">
                    Task Distribution by Category
                </h3>
                <div class="h-[300px]">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>

            <!-- Repeatable Task Distribution -->
            <div data-widget-id="repeatable-chart"
                class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
                <h3 class="text-xl font-semibold mb-6">Task Distribution by Repeatability</h3>
                <div class="h-[300px]">
                    <canvas id="repeatableChart"></canvas>
                </div>
            </div>


        </div>

        <!-- Priority Distribution & Recent Tasks -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Priority Distribution -->
            <div data-widget-id="priority-chart"
                class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
                <h3 class="text-xl font-semibold mb-6">Task Distribution by Priority</h3>
                <div class="h-[300px]">
                    <canvas id="priorityChart"></canvas>
                </div>
            </div>

            <!-- Recent Tasks -->
            <div data-widget-id="recent-tasks"
                class="bg-[var(--card-bg)] duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px] hover:border-purple-500">
                <h3 class="text-xl font-semibold mb-6">Recent Tasks</h3>
                <div id="recentTasks" class="space-y-4 max-h-[300px] overflow-y-auto">

                </div>
            </div>
        </div>

        <!-- Task Completion Trend -->
        <div data-widget-id="trend-chart"
            class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
            <h3 class="text-xl font-semibold mb-6">Task Completion Trend</h3>
            <div class="h-[300px]">
                <canvas id="trendChart"></canvas>
            </div>
        </div>

        <!-- Time Distribution & Productivity Score -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8 mb-8">
            <!-- Time Distribution -->
            <div data-widget-id="time-distribution"
                class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
                <h3 class="text-xl font-semibold mb-6">Tasks by Time of Day</h3>
                <div class="h-[300px]">
                    <canvas id="timeDistributionChart"></canvas>
                </div>
            </div>

            <!-- Productivity Score -->
            <div data-widget-id="productivity-score"
                class="bg-[var(--card-bg)] hover:border-purple-500 duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px]">
                <h3 class="text-xl font-semibold mb-6">Productivity Score</h3>
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <p id="productivityScore" class="text-4xl font-bold mb-2">0</p>
                        <p class="text-[var(--text-gray)]">Current Week's Score</p>
                    </div>
                    <div class="text-right">
                        <p id="productivityTrend" class="text-lg font-semibold mb-1">
                            0%
                        </p>
                        <p class="text-[var(--text-gray)]">vs Last Week</p>
                    </div>
                </div>
                <div class="h-[200px]">
                    <canvas id="productivityTrendChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Task Completion Heatmap & Category Performance -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Task Completion Heatmap -->
            <div data-widget-id="completion-heatmap"
                class="bg-[var(--card-bg)] duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px] hover:border-purple-500">
                <h3 class="text-xl font-semibold mb-6">Task Completion Heatmap</h3>
                <div class="h-[300px]">
                    <canvas id="completionHeatmap"></canvas>
                </div>
            </div>

            <!-- Category Performance -->
            <div data-widget-id="category-performance"
                class="bg-[var(--card-bg)] duration-200 p-6 rounded-xl border border-purple-500/10 backdrop-blur-[20px] hover:border-purple-500">
                <h3 class="text-xl font-semibold mb-6">Category Performance</h3>
                <div class="h-[300px] overflow-y-auto">
                    <div id="categoryPerformance" class="space-y-4">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Task Details Modal -->
    <div id="taskDetailsModal"
        class="hidden fixed bg-black/60 backdrop-blur-md inset-0 z-50 items-center justify-center p-4 overflow-y-auto">
        <div
            class="bg-[var(--card-bg)] max-h-[600px] overflow-y-auto mx-auto p-5 sm:p-8 rounded-2xl w-full max-w-5xl shadow-lg backdrop-blur-[20px] transition-all duration-300 transform">
            <div class="flex justify-between items-center mb-6">
                <h3 id="detailTaskTitle" class="text-2xl sm:text-3xl font-bold">Task Details</h3>
                <button onclick="closeTaskDetailsModal()"
                    class="text-[var(--text-gray)] hover:text-purple-500 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>

            <div
                class="bg-[var(--secondary-bg)] p-5 rounded-lg border-l-4 border-purple-500 shadow-sm mb-6 hover:shadow-md transition-all duration-300">
                <div id="detailTaskText" class="font-medium text-sm sm:text-[18px] flex justify-between break-words">
                </div>
                <div id="dueStatus" class="text-xs text-[var(--text-gray)] sm:text-sm font-medium flex justify-end">
                    ⏳ Due in 4 hours and 8 minutes
                </div>
            </div>

            <!-- task tags -->
            <div id="detailTaskTags" class="flex flex-wrap gap-2 mb-5">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">

                <div class="p-3 bg-pink-400/10 rounded-xl border-l-4 duration-300 border-pink-500 hover:bg-pink-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-pink-500 mb-2 font-semibold"> <i
                                class="ri-fire-line"></i>&nbsp;
                            STATUS</p>
                        <p id="detailTaskStatus" class="text-xs sm:text-sm font-medium">Pending</p>
                    </div>
                </div>

                <div class="p-3 bg-cyan-400/10 rounded-xl border-l-4 duration-300 border-cyan-500 hover:bg-cyan-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-cyan-500 mb-2 font-semibold"> <i
                                class="ri-tree-node"></i>&nbsp;
                            CATEGORY</p>
                        <p id="detailTaskCategory" class="text-xs sm:text-sm font-medium">Work</p>
                    </div>
                </div>

                <div class="p-3 bg-blue-400/10 rounded-xl border-l-4 duration-300 border-blue-500 hover:bg-blue-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-blue-500 mb-2 font-semibold"> <i
                                class="ri-flashlight-line"></i>&nbsp; PRIORITY</p>
                        <p id="detailTaskPriority" class="text-xs sm:text-sm font-medium">High</p>
                    </div>
                </div>

                <div
                    class="p-3 bg-orange-400/10 rounded-xl border-l-4 duration-300 border-orange-500 hover:bg-orange-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-orange-500 mb-2 font-semibold"> <i
                                class="ri-repeat-line"></i>&nbsp;
                            REPEATED</p>
                        <p id="detailTaskRepeat" class="text-xs sm:text-sm  font-medium">None</p>
                    </div>
                </div>

                <div
                    class="p-3 bg-fuchsia-400/10 rounded-xl border-l-4 duration-300 border-fuchsia-500 hover:bg-fuchsia-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-fuchsia-500 mb-2  font-semibold"> <i
                                class="ri-calendar-line"></i>&nbsp; STARTED AT</p>
                        <p id="detailTaskStarted" class="text-xs sm:text-sm  font-medium">May 24, 2025, 08:35 AM</p>
                    </div>
                </div>

                <div
                    class="p-3 bg-green-400/10 rounded-xl border-l-4 duration-300 border-green-500 hover:bg-green-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-green-500 mb-2 font-semibold"> <i
                                class="ri-time-line"></i>&nbsp;
                            DUE DATE</p>
                        <p id="detailTaskDueDate" class="text-xs sm:text-sm  font-medium">May 24, 2025, 08:35 AM</p>
                    </div>
                </div>

                <div
                    class="p-3 bg-purple-400/10 rounded-xl border-l-4 duration-300 border-purple-500 hover:bg-purple-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-purple-500 mb-2  font-semibold"> <i
                                class="ri-calendar-line"></i>&nbsp; CREATED AT</p>
                        <p id="detailTaskCreated" class="text-xs sm:text-sm  font-medium">May 24, 2025, 08:35 AM</p>
                    </div>
                </div>

                <div
                    class="p-3 bg-indigo-400/10 rounded-xl border-l-4 duration-300 border-indigo-500 hover:bg-indigo-500/10">
                    <div>
                        <p class="text-xs sm:text-[16.5px] text-indigo-500 mb-2  font-semibold"> <i
                                class="ri-calendar-line"></i>&nbsp; COMPLETED AT</p>
                        <p id="detailTaskCompleted" class="text-xs sm:text-sm  font-medium">May 24, 2025, 08:35 AM</p>
                    </div>
                </div>


            </div>

            <div id="subtasksSection" class="mt-6 border-t border-[var(--text-gray)]/10 pt-4 hidden">
                <div class="flex items-center justify-between mb-3">
                    <span
                        class="font-medium text-[16px] sm:text-xl bg-gradient-to-r from-purple-500 to-purple-600 bg-clip-text text-transparent">Subtasks</span>
                    <span id="subtasksProgress"
                        class="sm:text-sm text-xs text-[var(--text-gray)] rounded-full font-medium"></span>
                </div>
                <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden mb-4">
                    <div id="subtasksProgressBar"
                        class="h-full bg-gradient-to-r from-purple-500 to-purple-600 transition-all duration-500"></div>
                </div>
                <div id="subtasksDetailList" class="max-h-[200px] overflow-y-auto rounded-lg py-3 px-1"></div>
            </div>

            <!-- note details -->
            <div id="notesSection" class="mt-6 border-t border-[var(--text-gray)]/10 pt-4">
                <h3 class="font-medium text-purple-500 text-[14px] sm:text-xl mb-3">
                    Notes & Documentation
                </h3>

                <div id="notesList" class="grid grid-cols-1 md:grid-cols-2 mt-5 gap-6 mb-2">

                </div>
            </div>


            <div class="flex flex-wrap gap-3 items-center mt-1  pt-4">
                <div class="flex items-center space-x-2 text-sm sm:text-[16px] text-[var(--text-gray)]">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span id="detailTaskEditedDate">Last edited: 2 days ago</span>
                </div>
                <div class="flex items-center space-x-2 text-sm sm:text-[16px] text-[var(--text-gray)]">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <span id="detailTaskCreator">Created by: John Doe</span>
                </div>
            </div>

            <div class="flex flex-wrap justify-end gap-3 mt-6">

                <button onclick="closeTaskDetailsModal()"
                    class="px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2 shadow-md hover:shadow-lg">
                    <span>Cancel</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Note Detail Modal -->
    <div id="noteDetailModal"
        class="fixed inset-0 bg-black/30 backdrop-blur-sm hidden items-center justify-center p-4  z-50">
        <div class="bg-[var(--card-bg)] rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">

            <div class="flex justify-between items-center p-3 sm:p-6 border-b border-gray-500/30">
                <div class="flex items-center space-x-4">
                    <div class="p-2 bg-purple-500/10 rounded-md">
                        <i class="ri-booklet-line text-xl text-purple-500"></i>
                    </div>
                    <div>
                        <h3 class="text-[18px] sm:text-xl font-semibold" id="noteDetailTitle">Project Brainstorm</h3>
                        <p class="text-xs sm:text-sm text-[var(--text-gray)] mt-1" id="noteDetailDate">Created May 15,
                            2023</p>
                    </div>
                </div>
                <button type="button" onclick="hidNoteDetailsModal()" class="p-2 rounded-lg transition-colors">
                    <svg class="w-4.5 sm:w-6 h-4.5 sm:h-6 text-[var(--text-gray)] hover:text-purple-500" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="px-6 py-3 overflow-y-auto flex-grow">
                <div class="prose max-w-none break-words whitespace-pre-line mb-6" id="noteDetailContent">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero qui architecto quos perspiciatis
                    aspernatur
                    hic, ex pariatur sunt. Corporis, excepturi praesentium ratione debitis sed, quidem, corrupti magni
                    doloribus
                    iusto quo aut numquam officia delectus!
                </div>

                <div class="flex flex-wrap items-center gap-4  pt-2 text-sm text-[var(--text-gray)]">
                    <div class="flex items-center space-x-2">
                        <i class="far fa-clock"></i>
                        <span id="noteDetailLastEdited">Last edited: 1 hour ago</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="far fa-user"></i>
                        <span id="noteDetailAuthor">Created by: John Doe</span>
                    </div>
                </div>
            </div>
            <div class="p-4  flex flex-col space-y-3 justify-between">
                <div class="flex justify-end items-center">
                    <button onclick="hidNoteDetailsModal()"
                        class="px-3 sm:px-6 py-2.5 text-[var(--text-gray)] border border-gray-500/20 hover:border-purple-500 rounded-lg transition-colors font-medium">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal"
        class="hidden fixed inset-0 bg-black/60 backdrop-blur-md z-50  items-center justify-center p-4">
        <div class="bg-[var(--card-bg)] w-full max-w-md rounded-2xl p-6">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">Edit Profile</h3>
                <button onclick="closeEditProfile()" class="text-[var(--text-gray)] hover:text-purple-500">
                    <i class="ri-close-line text-2xl"></i>
                </button>
            </div>

            <form id="editProfileForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Username</label>
                    <input type="text" id="editDisplayName"
                        class="w-full px-4 py-2 rounded-lg bg-[var(--secondary-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500">
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Bio</label>
                    <textarea id="userBioInput" rows="3"
                        class="w-full px-4 py-2 rounded-lg resize-none bg-[var(--secondary-bg)] border border-purple-500/20 focus:outline-none focus:border-purple-500"
                        placeholder="Tell us about yourself..."></textarea>
                </div>
                <div class="pt-4 border-t border-purple-500/20">
                    <button type="submit"
                        class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="toastContainer" class="fixed top-[80px] right-[20px] z-10"></div>

    <!-- Footer Section -->
    <footer class="neptaskfooter pt-20 md:pt-20 px-4 transition-all duration-300 border-t-2 border-purple-500/20">
        <script src="../utils/footer.js"></script>
    </footer>

    <div id="toastNotification" class="toast-hidden"></div>
    <!-- <audio id="pomodoroAlarm" src="../assets/sounds/alarm.mp3" preload="auto"></audio> -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="../js/analytics.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../utils/back-to-top.js"></script>
    <script src="../utils/toggle-theme.js"></script>
    <script type="module" src="../utils/newsletter.js"></script>
</body>

</html>